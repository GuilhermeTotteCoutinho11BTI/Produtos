<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Football Shirts ‚Äî Camisetas de Futebol</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #1a472a;
      --primary-dark: #0f2f1e;
      --accent: #e74c3c;
      --accent-light: #ec7063;
      --cream: #f5f5f5;
      --text: #222;
      --muted: #707070;
      --border: #E8E6E3;
      --white: #ffffff;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    html, body { height: 100%; }
    
    body {
      font-family: 'Poppins', -apple-system, system-ui, 'Segoe UI', sans-serif;
      background: var(--cream);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
      line-height: 1.5;
    }

    .app { min-height: 100%; display: flex; flex-direction: column; }

    /* HEADER / NAV */
    .navbar {
      background: var(--white);
      border-bottom: 2px solid var(--primary);
      padding: 16px 0;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .nav-container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
    }

    .logo-icon {
      width: 40px;
      height: 40px;
      background: var(--primary);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
    }

    .brand {
      font-weight: 700;
      font-size: 1rem;
      color: var(--text);
    }

    .nav-menu {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .nav-link {
      background: none;
      border: 1px solid transparent;
      padding: 8px 14px;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      color: var(--muted);
      font-size: 0.9rem;
      transition: all 0.2s;
    }

    .nav-link:hover {
      color: var(--primary);
    }

    .nav-link.active {
      color: var(--white);
      background-color: var(--primary);
      border-color: var(--primary);
    }

    /* MAIN */
    .main-content { flex: 1; padding: 32px 20px; }
    .container { max-width: 1100px; margin: 0 auto; }

    .page { display: none; }
    .page.active { display: block; }

    /* HOME HERO */
    .hero {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 24px;
      margin-bottom: 32px;
    }

    .hero-left h1 {
      font-size: 2rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 8px;
    }

    .hero-left p {
      color: var(--muted);
      font-size: 0.95rem;
    }

    .hero-right {
      flex-shrink: 0;
    }

    /* GRID */
    .camisetas-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 18px;
    }

    .camiseta-card {
      background: var(--white);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 16px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      transition: all 0.2s;
    }

    .camiseta-card:hover {
      border-color: var(--primary);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
    }

    .camiseta-head {
      display: flex;
      gap: 10px;
    }

    .camiseta-thumb {
      width: 56px;
      height: 56px;
      background: var(--primary);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      flex-shrink: 0;
    }

    .camiseta-info {
      flex: 1;
    }

    .camiseta-title {
      font-weight: 700;
      font-size: 0.95rem;
      color: var(--text);
      margin-bottom: 3px;
    }

    .camiseta-desc {
      font-size: 0.85rem;
      color: var(--muted);
      line-height: 1.3;
    }

    .camiseta-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-top: 10px;
      border-top: 1px solid var(--border);
    }

    .camiseta-meta {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .price {
      font-weight: 700;
      color: var(--accent);
      font-size: 0.95rem;
    }

    .stock {
      font-size: 0.8rem;
      color: var(--muted);
    }

    .controls {
      display: flex;
      gap: 6px;
    }

    .btn {
      padding: 6px 10px;
      border-radius: 6px;
      border: 1px solid var(--border);
      background: var(--white);
      color: var(--muted);
      cursor: pointer;
      font-weight: 600;
      font-size: 0.8rem;
      transition: all 0.2s;
    }

    .btn:hover {
      color: var(--primary);
      border-color: var(--primary);
    }

    .btn-primary {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }

    .btn-primary:hover {
      opacity: 0.9;
      color: white;
    }

    .btn-danger {
      background: var(--accent);
      color: white;
      border-color: var(--accent);
    }

    .btn-danger:hover {
      background: #f05555;
    }

    /* FORM */
    .cadastro-wrapper {
      display: flex;
      flex-direction: column;
      gap: 24px;
      align-items: center;
    }

    .cadastro-header {
      text-align: left;
      width: 100%;
      max-width: 600px;
    }

    .cadastro-header h2 {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 6px;
    }

    .cadastro-header p {
      color: var(--muted);
    }

    .form-container {
      background: var(--white);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 20px;
      flex: 1;
      max-width: 600px;
    }

    .cadastro-form {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    label {
      font-weight: 600;
      font-size: 0.9rem;
      color: var(--text);
    }

    input, textarea {
      padding: 10px 12px;
      border: 1px solid var(--border);
      border-radius: 6px;
      font-family: inherit;
      font-size: 0.9rem;
      transition: all 0.2s;
    }

    input:focus, textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 2px rgba(26, 71, 42, 0.1);
    }

    textarea {
      resize: vertical;
      min-height: 100px;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    .form-actions {
      display: flex;
      gap: 10px;
      margin-top: 6px;
    }

    .form-actions .btn-primary {
      flex: 1;
      padding: 10px;
      font-weight: 700;
    }

    /* ABOUT */
    .about-section {
      background: var(--white);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 20px;
      max-width: 600px;
      margin: 0 auto;
    }

    .about-section h3 {
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 10px;
    }

    .about-section p {
      color: var(--muted);
      line-height: 1.6;
    }

    /* EMPTY STATE */
    .empty-state {
      text-align: center;
      padding: 32px 20px;
      background: #F5F3F0;
      border-radius: 8px;
    }

    .empty-state-icon {
      font-size: 48px;
      margin-bottom: 12px;
    }

    .empty-state h3 {
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 6px;
    }

    .empty-state p {
      color: var(--muted);
    }

    /* MSG */
    .msg {
      margin-bottom: 14px;
      padding: 12px;
      border-radius: 6px;
      font-size: 0.9rem;
      font-weight: 600;
    }

    .msg.success {
      background: #ECFDF5;
      color: #14532d;
      border: 1px solid #BBFFE0;
    }

    .msg.error {
      background: #FEF1F1;
      color: #7F1D1D;
      border: 1px solid #FECACA;
    }

    /* FOOTER */
    footer {
      padding: 20px;
      text-align: center;
      color: var(--muted);
      border-top: 1px solid var(--border);
      font-size: 0.9rem;
    }

    @media (max-width: 768px) {
      .cadastro-wrapper { flex-direction: column; }
      .cadastro-header { flex: 1; }
      .hero { flex-direction: column; align-items: flex-start; }
      .form-row { grid-template-columns: 1fr; }
      .nav-menu { gap: 4px; }
      .nav-link { padding: 6px 10px; font-size: 0.85rem; }
      .hero-left h1 { font-size: 1.5rem; }
    }
  </style>
</head>
<body>
  <div class="app">
    <nav class="navbar">
      <div class="nav-container">
        <div class="logo" onclick="showPage('home', event)">
          <div class="logo-icon">‚öΩ</div>
          <div class="brand">Football Shirts</div>
        </div>
        <div class="nav-menu">
          <button class="nav-link active" onclick="showPage('home', event)">Cat√°logo</button>
          <button class="nav-link" onclick="showPage('cadastro', event)">Cadastrar</button>
          <button class="nav-link" onclick="showPage('sobre', event)">Sobre</button>
        </div>
      </div>
    </nav>

    <main class="main-content">
      <div class="container">
        <!-- HOME -->
        <div id="home" class="page active">
          <div class="hero">
            <div class="hero-left">
              <h1>Camisetas de Futebol</h1>
              <p>Cole√ß√£o oficial dos melhores times do mundo</p>
            </div>
            <button class="btn btn-primary" onclick="showPage('cadastro', event)">+ Cadastrar</button>
          </div>
          <div class="camisetas-grid" id="camisetasContainer"></div>
        </div>

        <!-- CADASTRO -->
        <div id="cadastro" class="page">
          <div class="cadastro-wrapper">
            <div class="cadastro-header">
              <h2>Nova Camiseta</h2>
              <p>Adicione uma camiseta ao cat√°logo</p>
            </div>
            <div class="form-container">
              <div id="mensagem"></div>
              <form class="cadastro-form" onsubmit="handleSubmit(event)">
                <div class="form-group">
                  <label for="nome">Nome da Camiseta *</label>
                  <input id="nome" name="nome" required placeholder="Ex: Brasil Home 2024">
                </div>
                <div class="form-group">
                  <label for="descricao">Descri√ß√£o</label>
                  <textarea id="descricao" name="descricao" placeholder="Descreva a camiseta (material, temporada, etc)"></textarea>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label for="preco">Pre√ßo (R$) *</label>
                    <input id="preco" name="preco" type="number" step="0.01" min="0" required placeholder="99.90">
                  </div>
                  <div class="form-group">
                    <label for="estoque">Estoque *</label>
                    <input id="estoque" name="estoque" type="number" min="0" required placeholder="0">
                  </div>
                </div>
                <div class="form-actions">
                  <button type="submit" class="btn btn-primary">Salvar</button>
                  <button type="button" class="btn" onclick="resetForm()">Limpar</button>
                </div>
              </form>
            </div>
          </div>
        </div>

        <!-- SOBRE -->
        <div id="sobre" class="page">
          <div class="about-section">
            <h3>‚ÑπÔ∏è Sobre Football Shirts</h3>
            <p>Football Shirts √© uma loja online especializada em camisetas de futebol aut√™nticas dos maiores times do mundo. Nossa miss√£o √© oferecer produtos de alta qualidade com pre√ßos competitivos.</p>
            <br>
            <h3>üì¶ Como Funciona</h3>
            <p>Navegue pelo cat√°logo, selecione a camiseta desejada e fa√ßa seu pedido. Todas as camisetas s√£o 100% originais e aut√™nticas.</p>
            <br>
            <h3>‚öΩ Tecnologias</h3>
            <p><strong>Frontend:</strong> HTML5, CSS3, JavaScript Vanilla<br>
            <strong>Backend:</strong> Node.js, Express.js<br>
            <strong>Database:</strong> MySQL (web_03mb)</p>
          </div>
        </div>
      </div>
    </main>

    <footer>¬© 2026 Football Shirts ‚Äî Camisetas de Futebol. Desenvolvido para aula de Web Development.</footer>
  </div>

  <script>
    const API_URL = 'http://localhost:5000/api';

    function showPage(pageName, ev) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.getElementById(pageName).classList.add('active');
      document.querySelectorAll('.nav-link').forEach(n => n.classList.remove('active'));
      if (ev && ev.target) ev.target.classList.add('active');
      if (pageName === 'home') renderCamisetas();
    }

    async function renderCamisetas() {
      const container = document.getElementById('camisetasContainer');
      try {
        const response = await fetch(`${API_URL}/camisetas`);
        const camisetas = await response.json();
        
        if (!camisetas || camisetas.length === 0) {
          container.innerHTML = `<div class="empty-state"><div class="empty-state-icon">‚öΩ</div><h3>Nenhuma camiseta cadastrada</h3><p>Clique em "Cadastrar" para adicionar camisetas.</p></div>`;
          return;
        }
        
        container.innerHTML = camisetas.map(c => `
          <div class="camiseta-card">
            <div class="camiseta-head">
              <div class="camiseta-thumb">‚öΩ</div>
              <div class="camiseta-info">
                <div class="camiseta-title">${escapeHtml(c.nome)}</div>
                <div class="camiseta-desc">${escapeHtml(c.descricao || 'Sem descri√ß√£o')}</div>
              </div>
            </div>
            <div class="camiseta-footer">
              <div class="camiseta-meta">
                <div class="price">R$ ${parseFloat(c.preco).toFixed(2)}</div>
                <div class="stock">Est: ${c.estoque}</div>
              </div>
              <div class="controls">
                <button class="btn btn-danger" onclick="deletarCamiseta(${c.id})">üóëÔ∏è Remover</button>
              </div>
            </div>
          </div>
        `).join('');
      } catch (err) {
        container.innerHTML = '<div class="empty-state"><p>Erro ao carregar camisetas</p></div>';
      }
    }

    function handleSubmit(e) {
      e.preventDefault();
      const nome = document.getElementById('nome').value.trim();
      const descricao = document.getElementById('descricao').value.trim();
      const preco = parseFloat(document.getElementById('preco').value);
      const estoque = parseInt(document.getElementById('estoque').value, 10);

      if (!nome) { showMsg('Nome √© obrigat√≥rio', 'error'); return; }
      if (isNaN(preco) || preco < 0) { showMsg('Pre√ßo inv√°lido', 'error'); return; }
      if (isNaN(estoque) || estoque < 0) { showMsg('Estoque inv√°lido', 'error'); return; }

      const body = { nome, descricao, preco, estoque };
      
      fetch(`${API_URL}/camisetas`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(body)
      })
      .then(r => r.json())
      .then(data => {
        if (data.error) {
          showMsg('Erro: ' + data.error, 'error');
        } else {
          showMsg('Camiseta salva com sucesso', 'success');
          document.querySelector('.cadastro-form').reset();
          setTimeout(() => showPage('home'), 1000);
        }
      })
      .catch(err => showMsg('Erro ao salvar', 'error'));
    }

    function deletarCamiseta(id) {
      if (confirm('Remover esta camiseta?')) {
        fetch(`${API_URL}/camisetas/${id}`, { method: 'DELETE' })
          .then(r => r.json())
          .then(data => {
            renderCamisetas();
          })
          .catch(err => showMsg('Erro ao deletar', 'error'));
      }
    }

    function resetForm() {
      document.querySelector('.cadastro-form').reset();
      document.getElementById('mensagem').innerHTML = '';
    }

    function showMsg(text, type) {
      const div = document.getElementById('mensagem');
      div.innerHTML = `<div class="msg ${type}">${text}</div>`;
      setTimeout(() => div.innerHTML = '', 3000);
    }

    function escapeHtml(s) {
      return (s || '').replace(/[&<>"]/g, c => ({ '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;' }[c]));
    }

    // Carregar camisetas ao iniciar
    renderCamisetas();
  </script>
</body>
</html>
